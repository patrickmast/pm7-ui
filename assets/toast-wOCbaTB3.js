class v{constructor(){this.viewport=null,this.toasts=new Map,this.init()}init(){document.querySelector(".pm7-toast-viewport")?this.viewport=document.querySelector(".pm7-toast-viewport"):(this.viewport=document.createElement("div"),this.viewport.className="pm7-toast-viewport",document.body.appendChild(this.viewport))}show(a={}){const{title:s="",description:n="",variant:r="default",duration:d=5e3,action:u=null,onClose:h=null}=a,e=document.createElement("div"),i=Date.now().toString();e.className=`pm7-toast pm7-toast--${r}`,e.setAttribute("data-state","open"),e.setAttribute("data-toast-id",i);const m=document.createElement("div");m.className="pm7-toast-header";const p=document.createElement("div");if(s){const t=document.createElement("h3");t.className="pm7-toast-title",t.textContent=s,p.appendChild(t)}if(n){const t=document.createElement("p");t.className="pm7-toast-description",t.textContent=n,p.appendChild(t)}m.appendChild(p);const l=document.createElement("button");if(l.className="pm7-toast-close",l.setAttribute("aria-label","Close"),l.innerHTML="&times;",m.appendChild(l),e.appendChild(m),u){const t=document.createElement("div");t.className="pm7-toast-action",t.innerHTML=u,e.appendChild(t)}if(d>0){const t=document.createElement("div");t.className="pm7-toast-progress",t.style.animationDuration=`${d}ms`,e.appendChild(t)}return l.addEventListener("click",()=>this.close(i)),this.viewport.appendChild(e),this.toasts.set(i,{element:e,onClose:h}),d>0&&setTimeout(()=>this.close(i),d),i}close(a){const s=this.toasts.get(a);if(!s)return;const{element:n,onClose:r}=s;n.setAttribute("data-state","closed"),setTimeout(()=>{n.remove(),this.toasts.delete(a),r&&r()},200)}closeAll(){this.toasts.forEach((a,s)=>this.close(s))}}let o=null;function f(c){return o||(o=new v),o.show(c)}function C(c){o&&o.close(c)}function w(){o&&o.closeAll()}export{v as P,w as a,C as c,f as s};
