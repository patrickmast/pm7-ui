import{P as l}from"./menu-CszY2JC7.js";import{P as d}from"./theme-switch-DMBz-S8n.js";import{b as p,c as u}from"./components-DOfii7hR.js";let a=null;async function h(){if(a)return a;try{const e=await fetch("https://registry.npmjs.org/@pm7/core/latest");if(e.ok)return a=(await e.json()).version,a}catch(e){console.warn("Failed to fetch version from npm registry:",e)}try{const e=await fetch("/packages/core/package.json");if(e.ok)return a=(await e.json()).version,a}catch(e){console.warn("Failed to fetch version from local package.json:",e)}return console.warn("Using hardcoded version fallback"),"1.0.0"}function m(e){document.querySelectorAll("[data-pm7-version]").forEach(r=>{r.textContent=e}),document.querySelectorAll("code").forEach(r=>{const s=r.textContent;s.includes("@pm7/core@")&&(r.textContent=s.replace(/@pm7\/core@[\d.]+/,`@pm7/core@${e}`)),s.includes("(v0.2.0)")&&(r.textContent=s.replace(/\(v[\d.]+\)/,`(v${e})`))}),document.querySelectorAll(".pm7-version-text").forEach(r=>{r.textContent=e})}async function i(){const e=await h();m(e)}typeof document<"u"&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i());window.PM7Menu=l;window.PM7ThemeSwitch=d;window.addEventListener("pageshow",e=>{var o;(e.persisted||((o=performance.getEntriesByType("navigation")[0])==null?void 0:o.type)==="back_forward")&&p()});document.addEventListener("DOMContentLoaded",()=>{try{u()}catch{}try{i()}catch{}const e=window.location.pathname;document.querySelectorAll(".pm7-docs-nav-menu a").forEach(n=>{n.classList.remove("active");const t=n.getAttribute("href");(t===e||t==="/components.html"&&e.startsWith("/components/"))&&n.classList.add("active")}),document.querySelectorAll('a[href^="#"]').forEach(n=>{n.addEventListener("click",function(t){const r=this.getAttribute("href");if(r==="#"||this.id==="version-info-trigger")return;t.preventDefault();const s=document.querySelector(r);s&&s.scrollIntoView({behavior:"smooth",block:"start"})})}),c(),f()});function c(){document.querySelectorAll("#usage code").forEach(o=>{if(o.parentElement.querySelector(".pm7-code-copy-button"))return;const n=o.closest("pre");if(n&&n.firstChild===o){const r=document.createElement("div");r.className="pm7-code-wrapper",n.insertBefore(r,o),r.appendChild(o)}const t=document.createElement("button");t.className="pm7-code-copy-button",t.innerHTML=`
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
    `,t.title="Copy to clipboard",t.addEventListener("click",async()=>{const r=o.textContent.trim();try{await navigator.clipboard.writeText(r),t.innerHTML=`
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="20 6 9 17 4 12"></polyline>
          </svg>
        `,t.classList.add("pm7-code-copy-success"),setTimeout(()=>{t.innerHTML=`
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
              <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
            </svg>
          `,t.classList.remove("pm7-code-copy-success")},2e3)}catch(s){console.error("Failed to copy:",s)}}),o.parentElement.classList.contains("pm7-code-wrapper")||(o.parentElement.style.position="relative"),o.parentElement.appendChild(t)})}function f(){const e=document.querySelector(".pm7-tab-selector");if(!e)return;const o=new MutationObserver(t=>{t.forEach(r=>{if(r.type==="attributes"&&r.attributeName==="class"){const s=document.querySelector('[data-tab-id="usage"]');s&&s.classList.contains("pm7-tab-selector-trigger--active")&&setTimeout(()=>{c()},100)}})});e.querySelectorAll(".pm7-tab-selector-trigger").forEach(t=>{o.observe(t,{attributes:!0})})}export{i};
