import{_ as P}from"./components-DOfii7hR.js";function R(f){const n=document.querySelector(".pm7-docs-content > .pm7-tab-selector[data-pm7-tab-selector]");n&&(n.hasAttribute("data-pm7-tab-selector-initialized")||n.setAttribute("data-pm7-tab-selector-initialized","pending"),P(async()=>{const{PM7TabSelector:c}=await import("./tab-selector-DNXWfa90.js");return{PM7TabSelector:c}},[]).then(({PM7TabSelector:c})=>{const h=n.querySelectorAll(".pm7-tab-content"),b=Array.from(h).filter(a=>{let t=a.parentElement;for(;t&&t!==n;){if(t.hasAttribute("data-pm7-tab-selector"))return!1;t=t.parentElement}return t===n}),s={},l={};b.forEach((a,t)=>{const e=a.id,o=e.replace("-panel","");s[e]=o,l[o]=t}),console.log("[Tab Router] Found panels:",b.length),console.log("[Tab Router] Tab names mapping:",s);let i;n.PM7TabSelector?i=n.PM7TabSelector:(i=new c(n),n.PM7TabSelector=i),n.setAttribute("data-pm7-tab-selector-initialized","true");const T=a=>{const t=`/components/${f}/${a}`;history.pushState({tab:a},"",t)},d=()=>{const t=new URLSearchParams(window.location.search).get("tab");if(t)return t;const e=window.location.pathname.split("/");return e.length>=4&&e[1]==="components"?e[3]:Object.values(s)[0]},p=a=>{document.querySelectorAll(".pm7-docs-sidebar a").forEach(e=>{const o=e.getAttribute("href");if(o&&o.startsWith("/components/")){const m=o.split("/").filter(S=>S);m.length>=2&&(e.href=`/components/${m[1]}/${a}`)}})};n.addEventListener("pm7-tab-change",a=>{var e;const t=(e=a.detail.panel)==null?void 0:e.id;if(console.log("[Tab Router] Tab change event fired. Panel ID:",t),t&&s[t]){const o=s[t];console.log("[Tab Router] Saving tab to localStorage:",o),T(o),localStorage.setItem("pm7-docs-last-tab",o),p(o)}});const u=d(),g=localStorage.getItem("pm7-docs-last-tab"),w=Object.values(s)[0];let r;window.location.search.includes("tab=")||window.location.pathname.includes("/components/")&&window.location.pathname.split("/").length>=4?r=u:r=g||w,l[r]!==void 0&&(i.selectTabByIndex(l[r]),p(r)),window.addEventListener("popstate",a=>{var e;const t=((e=a.state)==null?void 0:e.tab)||d();l[t]!==void 0&&i.selectTabByIndex(l[t])})}))}window.initTabRouter=R;export{R as i};
